CREATE TABLE IF NOT EXISTS "migrations" ("id" integer not null primary key autoincrement, "migration" varchar not null, "batch" integer not null);
CREATE TABLE IF NOT EXISTS "users" ("id" integer not null primary key autoincrement, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE TABLE IF NOT EXISTS "password_resets" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer not null primary key autoincrement, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime default CURRENT_TIMESTAMP not null);
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE TABLE IF NOT EXISTS "personal_access_tokens" ("id" integer not null primary key autoincrement, "tokenable_type" varchar not null, "tokenable_id" integer not null, "name" varchar not null, "token" varchar not null, "abilities" text, "last_used_at" datetime, "expires_at" datetime, "created_at" datetime, "updated_at" datetime);
CREATE INDEX "personal_access_tokens_tokenable_type_tokenable_id_index" on "personal_access_tokens" ("tokenable_type", "tokenable_id");
CREATE UNIQUE INDEX "personal_access_tokens_token_unique" on "personal_access_tokens" ("token");
CREATE TABLE IF NOT EXISTS "twill_users" ("id" integer not null primary key autoincrement, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "published" tinyint(1) not null default '0', "name" varchar not null, "email" varchar not null, "password" varchar, "role" varchar not null, "title" varchar, "description" text, "remember_token" varchar, "language" varchar, "last_login_at" datetime, "registered_at" datetime, "require_new_password" tinyint(1) not null default '0');
CREATE UNIQUE INDEX "twill_users_email_unique" on "twill_users" ("email");
CREATE TABLE IF NOT EXISTS "twill_password_resets" ("email" varchar not null, "token" varchar not null, "created_at" datetime);
CREATE INDEX "twill_password_resets_email_index" on "twill_password_resets" ("email");
CREATE INDEX "twill_password_resets_token_index" on "twill_password_resets" ("token");
CREATE TABLE IF NOT EXISTS "blocks" ("id" integer not null primary key autoincrement, "blockable_id" integer, "blockable_type" varchar, "position" integer not null, "content" text not null, "type" varchar not null, "child_key" varchar, "parent_id" integer, "editor_name" varchar);
CREATE INDEX "blocks_blockable_type_blockable_id_index" on "blocks" ("blockable_type", "blockable_id");
CREATE TABLE IF NOT EXISTS "medias" ("id" integer not null primary key autoincrement, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "uuid" text not null, "alt_text" text, "width" integer not null, "height" integer not null, "caption" text, "filename" text);
CREATE TABLE IF NOT EXISTS "mediables" ("id" integer not null primary key autoincrement, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "mediable_id" integer, "mediable_type" varchar, "media_id" integer not null, "crop_x" integer, "crop_y" integer, "crop_w" integer, "crop_h" integer, "role" varchar, "crop" varchar, "lqip_data" text, "ratio" varchar, "metadatas" text not null, "locale" varchar not null default 'en', foreign key("media_id") references "medias"("id") on delete cascade on update cascade);
CREATE INDEX "mediables_mediable_type_mediable_id_index" on "mediables" ("mediable_type", "mediable_id");
CREATE TABLE IF NOT EXISTS "files" ("id" integer not null primary key autoincrement, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "uuid" text not null, "filename" text, "size" integer not null);
CREATE TABLE IF NOT EXISTS "settings" ("id" integer not null primary key autoincrement, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime, "key" varchar, "section" varchar);
CREATE INDEX "settings_key_index" on "settings" ("key");
CREATE INDEX "settings_section_index" on "settings" ("section");
CREATE TABLE IF NOT EXISTS "setting_translations" ("id" integer not null primary key autoincrement, "setting_id" integer not null, "deleted_at" datetime, "created_at" datetime, "updated_at" datetime, "locale" varchar not null, "active" tinyint(1) not null, "value" text, foreign key("setting_id") references "settings"("id") on delete CASCADE);
CREATE UNIQUE INDEX "setting_id_locale_unique" on "setting_translations" ("setting_id", "locale");
CREATE INDEX "setting_translations_locale_index" on "setting_translations" ("locale");
CREATE TABLE IF NOT EXISTS "tagged" ("id" integer not null primary key autoincrement, "taggable_type" varchar not null, "taggable_id" integer not null, "tag_id" integer not null);
CREATE INDEX "tagged_taggable_type_taggable_id_index" on "tagged" ("taggable_type", "taggable_id");
CREATE TABLE IF NOT EXISTS "tags" ("id" integer not null primary key autoincrement, "namespace" varchar not null, "slug" varchar not null, "name" varchar not null, "count" integer not null default '0');
CREATE TABLE IF NOT EXISTS "features" ("id" integer not null primary key autoincrement, "featured_id" varchar not null, "featured_type" varchar not null, "bucket_key" varchar not null, "position" integer not null, "starred" tinyint(1) not null default '0', "created_at" datetime, "updated_at" datetime);
CREATE UNIQUE INDEX "features_unique" on "features" ("featured_id", "featured_type", "bucket_key");
CREATE INDEX "features_bucket_key_index" on "features" ("bucket_key");
CREATE TABLE IF NOT EXISTS "related" ("subject_id" integer, "subject_type" varchar not null, "related_id" integer, "related_type" varchar not null, "browser_name" varchar not null, "position" integer not null);
CREATE UNIQUE INDEX "related_unique" on "related" ("subject_id", "subject_type", "related_id", "related_type", "browser_name");
CREATE INDEX "related_browser_name_index" on "related" ("browser_name");
CREATE INDEX "mediables_locale_index" on "mediables" ("locale");
CREATE TABLE fileables (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, file_id INTEGER NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, deleted_at DATETIME DEFAULT NULL, fileable_id INTEGER DEFAULT NULL, fileable_type VARCHAR(255) DEFAULT NULL COLLATE "BINARY", role VARCHAR(255) DEFAULT NULL COLLATE "BINARY", locale VARCHAR(7) NOT NULL COLLATE "BINARY", FOREIGN KEY (file_id) REFERENCES files (id) ON UPDATE CASCADE ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE);
CREATE INDEX fileables_locale_index ON fileables (locale);
CREATE INDEX fileables_fileable_type_fileable_id_index ON fileables (fileable_type, fileable_id);
CREATE INDEX IDX_B7CD033D93CB796C ON fileables (file_id);
CREATE TABLE activity_log (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, log_name VARCHAR(255) DEFAULT NULL COLLATE "BINARY", description CLOB NOT NULL COLLATE "BINARY", subject_id INTEGER DEFAULT NULL, subject_type VARCHAR(255) DEFAULT NULL COLLATE "BINARY", causer_id INTEGER DEFAULT NULL, causer_type VARCHAR(255) DEFAULT NULL COLLATE "BINARY", properties CLOB DEFAULT NULL COLLATE "BINARY", created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, event VARCHAR(255) DEFAULT NULL COLLATE "BINARY", batch_uuid VARCHAR(255) DEFAULT NULL COLLATE "BINARY");
CREATE INDEX activity_log_log_name_index ON activity_log (log_name);
INSERT INTO migrations VALUES(1,'2014_10_12_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'2014_10_12_100000_create_password_resets_table',1);
INSERT INTO migrations VALUES(3,'2019_08_19_000000_create_failed_jobs_table',1);
INSERT INTO migrations VALUES(4,'2019_12_14_000001_create_personal_access_tokens_table',1);
INSERT INTO migrations VALUES(5,'2020_02_09_000001_create_twill_default_users_tables',1);
INSERT INTO migrations VALUES(6,'2020_02_09_000002_create_twill_default_blocks_table',1);
INSERT INTO migrations VALUES(7,'2020_02_09_000003_create_twill_default_medias_tables',1);
INSERT INTO migrations VALUES(8,'2020_02_09_000004_create_twill_default_files_tables',1);
INSERT INTO migrations VALUES(9,'2020_02_09_000005_create_twill_default_settings_table',1);
INSERT INTO migrations VALUES(10,'2020_02_09_000006_create_twill_default_tags_tables',1);
INSERT INTO migrations VALUES(11,'2020_02_09_000007_create_twill_default_activity_log_table',1);
INSERT INTO migrations VALUES(12,'2020_02_09_000008_create_twill_default_features_table',1);
INSERT INTO migrations VALUES(13,'2020_02_09_000010_create_twill_default_related_table',1);
INSERT INTO migrations VALUES(14,'2020_02_09_000011_add_locale_column_to_twill_default-mediables',1);
INSERT INTO migrations VALUES(15,'2020_02_09_000012_change_locale_column_in_twill_default_fileables',1);
INSERT INTO migrations VALUES(16,'2020_02_09_000013_add_language_column_to_twill_default_users',1);
INSERT INTO migrations VALUES(17,'2020_02_09_000014_add_editor_name_column_to_blocks_table',1);
INSERT INTO migrations VALUES(18,'2021_07_08_000001_update_twill_default_users_table',1);
INSERT INTO migrations VALUES(19,'2022_01_25_000015_add_columns_to_activity_log_table',1);
